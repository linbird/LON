# 线程管理
## thread对象
* C++11使用thread类来作为存储线程数据的数据结构，thread类支持从普通函数指针、lambda表达式、带有operator()函数的类、类的函数(需提供类的实例化的对象的地址)来创建线程。
* 线程所持有的资源会在线程正常退出的时候自动释放
* 线程支持分离式和不分离式的运行
1. thread.join():子线程会阻塞主线程的执行，只有当子线程结束后主线程才能继续执行。
2. thread.datach():分离式启动线程，线程不会阻塞主线程的运行，子线程在后台运行，可用于创建守护线程。
## 参数传递
### **NOTE**
1. thread对象支持用带参数的函数初始化，但是参数中的默认参数会被忽略。
2. thread在传递参数时会无视参数的引用类型，因此需要使用std::ref(obj)来生成引用包裹以传递引用类型。
## 转移线程所有权

# 数据共享
## mutex保护数据
* mutex实现了锁用来控制对共享数据的访问，mutex类提供了lock和unlock两个成员方法。
* 实际上很少直接使用mutex对象，而是借助`C++11::lock_guard<mutex>(mutex_obj)`来构造RAII类
* C++17的`scoped_lock(mutex_objs)`是C++11中的优化实现。
* **NOTE**:mutex不能保护通过指针或者引用方式访问到的数据。
